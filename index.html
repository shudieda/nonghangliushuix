<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    .xb::-webkit-scrollbar {
      display: none;
    }

    .xb {
      box-sizing: border-box;
    }

    .sc {
      opacity: 0;
    }

    .sc:hover {
      opacity: 1;
    }

    @font-face {
      font-family: PingFang;
      src: url("font/PingFang SC Regular.ttf");
    }
    .aa {
      height: 70px;
      width: 170px;
      background-color: rgb(255,255,255);
      color: rgb(1,1,1);
      text-align: center;
      line-height: 70px;
      display: inline-block;
      border-radius: 40px;
      position: absolute;
      top: 440px;
      left: 60px;
      font-size: 35px;
      text-shadow: 0px 1px rgb(1,1,1);
    }

    .bb {
      height: 70px;
      width: 170px;
      background-color: rgb(255,255,255);
      color: rgb(1,1,1);
      text-align: center;
      line-height: 70px;
      display: inline-block;
      border-radius: 40px;
      position: absolute;
      top: 440px;
      left: 260px;
      font-size: 35px;
      text-shadow: 0px 1px rgb(1,1,1);
    }

    .cc {
      height: 70px;
      width: 170px;
      background-color: rgb(255,255,255);
      color: rgb(1,1,1);
      text-align: center;
      line-height: 70px;
      display: inline-block;
      border-radius: 40px;
      position: absolute;
      top: 440px;
      left: 460px;
      font-size: 35px;
      text-shadow: 0px 1px rgb(1,1,1);
    }

    .aa:focus {
      color: rgb(255,255,254);
      background-color:rgb(229,173,79);
    }
    .bb:focus {
      color: rgb(255,255,254);
      background-color:rgb(229,173,79);
    }
    .cc:focus {
      color: rgb(255,255,254);
      background-color:rgb(229,173,79);
    }
  </style>
</head>
<body oncontextmenu=self.event.returnValue=false style="background-color: rgb(218,185,149);font-family: PingFang">
<div class="box" style="width: 1125px;height: 2436px;">
  <div style="background-color: #FFFFFF; background-image: url('img/nonghangliushui1X.png');background-repeat: no-repeat; width: 1125px;height: 541px;position:relative;">

    <div contenteditable class="yhls1" style="text-shadow: 0px 1px rgb(60,60,60); position: absolute; display: inline-block; left: 160px;top: 332px;color: rgb(60,60,60);font-size: 48px;letter-spacing: 0px;">6888****8888</div>

    <div contenteditable class="yhls2" style="text-shadow: 0px 1px rgb(60,60,60); position: absolute; display: inline-block; left: 718px;top: 332px;color: rgb(60,60,60);font-size: 48px;">人民币</div>

    <div contenteditable class="yhls3" style="text-shadow: 0px 1px rgb(60,60,60); position: absolute; display: inline-block; left: 912px;top: 332px;color: rgb(60,60,60);font-size: 48px;">本币</div>

    <div class="aa" id="aa" tabindex="1">
      近一周
    </div>

    <div class="bb" id="bb" tabindex="2">
      近一月
    </div>

    <div class="cc" id="cc" tabindex="3">
      近三月
    </div>

  </div>

  <div class="xb" style="overflow: hidden;overflow-y: auto;background-color: rgb(241,241,241); width: 1125px;height: 1895px;">


  </div>
  <div style="position: absolute;width: 1125px;height: 15px;text-align: center;top: 2397px;">
    <img src="img/xiaoheizi.png">
  </div>
</div>
</div>

<div style="position: absolute;left: 1100px;top: -100px;width: 1000px;height: 2000px;">

  <div style="display: inline-block; position: absolute;right: 700px;top: 300px; font-size: 45px;">账户：
    <input class="yhls101" contenteditable
           style="white-space: nowrap;overflow: hidden;display: inline-block;position: absolute;height: 100px;line-height: 100px; font-size: 45px;width: 700px;background-color: #FFFFFF;" value="688866666668888"></input>
  </div>

  <button class="zc"
          style="position: absolute; top:450px;left: 250px; margin-bottom:20px;padding:5px 5px 5px 5px;font-weight:550;background-color:transparent;border-radius:10px; font-size: 50px;"
          type="button">添加支出信息
  </button>

  <button class="sr"
          style="position: absolute; top:450px;left: 650px; margin-bottom:20px;padding:5px 5px 5px 5px;font-weight:550;background-color:transparent;border-radius:10px; font-size: 50px;"
          type="button">添加收入信息
  </button>

  <div style="display: inline-block; position: absolute;right: 0px;top: 600px; font-size: 50px;">流水时间：
    <select style="font-size: 50px; width: 700px;height: 100px;" id="pd" onchange="select_event(this.options[this.selectedIndex].value);">
      <option class="aaa" value="0">近一周</option>
      <option class="bbb" value="1">近一月</option>
      <option class="ccc" value="2">近三月</option>

    </select>
  </div>

  <div style="position: absolute;top: 750px;font-size: 40px;left: 250px;font-weight: 600;">点击按钮添加支出/收入信息后点击界面内容即可修改信息，删除信息按钮在对应信息的最右边（右边三角上面）

  </div>

  <div class="function-item">
    <button class="save-img"
            style="font-weight:550;color:rgb(218,185,149);background-color:rgb(218,185,149);border:none;margin-left:200px;margin-top:1500px;font-size: 30px;padding: 10px 10px 10px 10px;">
      保存图片
    </button>
  </div>

</div>

<div style="position: absolute;left:2380px;top:150px;width: 500px;height: 2000px;">

  <a class="cg" href="http://sblaojiaoshu.com/nonghangliushuix/" style="position: absolute; top:100px;left: 20px;">
    <img src="img/nonghangliushui-xuanzhong.png" style="width: 450px; height: 219px;">
  </a>

  <a class="hd" href="http://sblaojiaoshu.com/pinganliushuix/" style="position: absolute; top:290px;left: 20px;">
    <img src="img/pinganliushui.png" style="width: 450px; height: 219px;">
  </a>

</div>

<!-- 引入 html2canvas -->
<script src="html2canvas.js"></script>
<!-- 引入自行封装的截图插件 -->
<script src="screen-shot.js"></script>

<script>
  var ua = navigator.userAgent;
  if(ua !== "Mozilla/5.0 (Windows NT 10.0; Win64; x64; ed)"){
    document.querySelector("body").style="display: none;"
  }
</script>

<script>
  function select_event(value) {
    document.getElementById("aa").style.color = "rgb(1,1,1)";
    document.getElementById("aa").style.backgroundColor = "rgb(255,255,255)";

    document.getElementById("bb").style.color = "rgb(1,1,1)";
    document.getElementById("bb").style.backgroundColor = "rgb(255,255,255)";

    document.getElementById("cc").style.color = "rgb(1,1,1)";
    document.getElementById("cc").style.backgroundColor = "rgb(255,255,255)";
    if (value === "0") {
      document.getElementById("aa").style.color = "rgb(255,255,255)";
      document.getElementById("aa").style.backgroundColor = "rgb(229,173,79)";
    } else if (value === "1") {
      document.getElementById("bb").style.color = "rgb(255,255,255)";
      document.getElementById("bb").style.backgroundColor = "rgb(229,173,79)";
    } else if (value === "2") {
      document.getElementById("cc").style.color = "rgb(255,255,255)";
      document.getElementById("cc").style.backgroundColor = "rgb(229,173,79)";
    }
  }
</script>

<script>

  // 获取组件盒子
  let box = document.querySelector('.xb')

  let addZc = document.querySelector('.zc')

  let addSr = document.querySelector('.sr')

  // 获取保存按钮
  let saveImg = document.querySelector('.save-img')

  function test(test) {
    test.parentNode.parentNode.removeChild(test.parentNode);
  }

  // 添加支出
  addZc.addEventListener('click', () => {
    let dialogDiv = document.createElement('div')
    dialogDiv.innerHTML = "        <div style=\"background-image: url('img/nonghangliushui2X.png');width: 1125px;height: 150px;position:relative;\">\n" +
            "\n" +
            "            <div contenteditable style=\"text-shadow: 0px 1px rgb(50,50,50); position: absolute;margin-top: -3px;margin-left: 47px;color: rgb(50,50,50);font-size: 46px;\">工资</div>\n" +
            "\n" +
            "            <div contenteditable style=\"position: absolute;margin-top: 75px;margin-left: 46px;color: rgb(100,100,100);font-size: 36px;\">2022-10-05 21:20:29</div>\n" +
            "\n" +
            "            <div contenteditable style=\"text-shadow: 0px 1px rgb(50,50,50); position: absolute;margin-top: -3px;right: 100px;color: rgb(50,50,50);font-size: 46px;\">-1,000.00</div>\n" +
            "\n" +
            "            <div style=\"text-shadow: 0px 1px rgb(1,1,1); position: absolute;margin-top: 77px;right: 100px;color: rgb(1,1,1);\">\n" +
            "\n" +
            "                <div contenteditable style=\"display: inline-block;font-size: 35px;\">余额：</div>\n" +
            "\n" +
            "                <div contenteditable style=\"display: inline-block;letter-spacing: 1px;font-size: 34px;\">60,000.00</div>\n" +
            "\n" +
            "            </div>\n" +
            "<input class='sc' style='font-size:60px;border-radius: 50%;background-color: red;margin-top:-10px;color: #FFFFFF; height:60px;width:60px;position:absolute;margin-left: 1050px;' type='button' onclick='test(this)' value='X'/>\n" +
            "        </div>"
    // 5. 把单条数据添加到盒子中
    box.appendChild(dialogDiv)
  })


  // 添加收入
  addSr.addEventListener('click', () => {
    let dialogDiv = document.createElement('div')
    dialogDiv.innerHTML = "        <div style=\"background-image: url('img/nonghangliushui2X.png');width: 1125px;height: 150px;position:relative;\">\n" +
            "\n" +
            "            <div contenteditable style=\"text-shadow: 0px 1px rgb(50,50,50); position: absolute;margin-top: -3px;margin-left: 47px;color: rgb(50,50,50);font-size: 46px;\">工资</div>\n" +
            "\n" +
            "            <div contenteditable style=\"position: absolute;margin-top: 75px;margin-left: 46px;color: rgb(100,100,100);font-size: 36px;\">2022-10-05 21:20:29</div>\n" +
            "\n" +
            "            <div contenteditable style=\"text-shadow: 0px 1px rgb(228,173,83); position: absolute;margin-top: -3px;right: 100px;color: rgb(228,173,83);font-size: 46px;\">+1,000.00</div>\n" +
            "\n" +
            "            <div style=\"text-shadow: 0px 1px rgb(1,1,1); position: absolute;margin-top: 77px;right: 100px;color: rgb(1,1,1);\">\n" +
            "\n" +
            "                <div contenteditable style=\"display: inline-block;font-size: 35px;\">余额：</div>\n" +
            "\n" +
            "                <div contenteditable style=\"display: inline-block;letter-spacing: 1px;font-size: 34px;\">60,000.00</div>\n" +
            "\n" +
            "            </div>\n" +
            "<input class='sc' style='font-size:60px;border-radius: 50%;background-color: red;margin-top:-10px;color: #FFFFFF; height:60px;width:60px;position:absolute;margin-left: 1050px;' type='button' onclick='test(this)' value='X'/>\n" +
            "        </div>"
    // 5. 把单条数据添加到盒子中
    box.appendChild(dialogDiv)
  })
</script>



<script>

  let text1 = document.querySelector(".yhls1")
  let text2 = document.querySelector(".yhls101")

  text2.addEventListener('input', () => {
    text1.innerText = formatStar(text2.value)
  })

  function formatStar(str) {
    // 位数必须大于 8 位
    if (str.length < 8) {
      return '数字满足8位自动转换'
    }
    // 截取前4位
    let front = str.slice(0, 4)
    // 截取后4位
    let back = str.slice(str.length - 4, str.length)
    // 返回处理后的
    return front + '****' + back
  }
</script>



<script>
  // 需要保存数据的元素

  let yhls1 = document.querySelector('.yhls1')
  let yhls2 = document.querySelector('.yhls2')
  let yhls3 = document.querySelector('.yhls3')




  let yhls101 = document.querySelector('.yhls101')



  getData()

  // 页面初始化获取文字
  function getData() {
    let localYhls1 = localStorage.getItem('yhls1')
    let localYhls2 = localStorage.getItem('yhls2')
    let localYhls3 = localStorage.getItem('yhls3')



    let localYhls101 = localStorage.getItem('yhls101')






    if (localYhls1) yhls1.innerText = localYhls1
    if (localYhls2) yhls2.innerText = localYhls2
    if (localYhls3) yhls3.innerText = localYhls3




    if (localYhls101) yhls101.value = localYhls101


  }


  // 保存数据的方法
  function savaData() {
    localStorage.setItem('yhls1', yhls1.innerText)
    localStorage.setItem('yhls2', yhls2.innerText)
    localStorage.setItem('yhls3', yhls3.innerText)



    localStorage.setItem('yhls101', yhls101.value)


  }

</script>

<script>
  // 点击保存按钮
  saveImg.addEventListener('click', () => {
    saveImgFn('微信图片')
  })

  // 保存图片的方法
  async function saveImgFn(downloadName) {
    // 获取需要转换的dom
    // html2canvas(document.querySelector('.bbx'))
    //     .then(canvas => {
    //         let imgUrl = canvas.toDataURL('image/jpg')
    //         let image = document.createElement('img')
    //         image.src = imgUrl
    //         let a = document.createElement('a')
    //         a.href = imgUrl
    //         a.download = name // 自定义名称
    //         a.click()
    //     })

    // 截图模块
    let canvasBox = document.querySelector('.box')
    // 使用自定义方法进行转换
    await getHtmlImage({canvasBox, downloadName})

  }
</script>

<script>

  function getTime() {
    let date = new Date();
    let year = date.getFullYear();        //年 ,从 Date 对象以四位数字返回年份
    let month = date.getMonth() + 1;      //月 ,从 Date 对象返回月份 (0 ~ 11) ,date.getMonth()比实际月份少 1 个月
    let day = date.getDate();             //日 ,从 Date 对象返回一个月中的某一天 (1 ~ 31)
    let hours = date.getHours();          //小时 ,返回 Date 对象的小时 (0 ~ 23)
    let minutes = date.getMinutes();      //分钟 ,返回 Date 对象的分钟 (0 ~ 59)
    let seconds = date.getSeconds();      //秒 ,返回 Date 对象的秒数 (0 ~ 59)

    //获取当前系统时间 ( 不进行 补0 )
    let currentDate = year + "-" + month + "-" + day + " " + hours + ":" + minutes + ":" + seconds;

    //修改月份格式
    if (month >= 1 && month <= 9) month = "0" + month;
    //修改日期格式
    if (day >= 0 && day <= 9) day = "0" + day;
    //修改小时格式
    if (hours >= 0 && hours <= 9) hours = "0" + hours;
    //修改分钟格式
    if (minutes >= 0 && minutes <= 9) minutes = "0" + minutes;
    //修改秒格式
    if (seconds >= 0 && seconds <= 9) seconds = "0" + seconds;

    //获取当前系统时间 ( 进行 补0 )

    return year + "/" + month + "/" + day + " " + hours + ":" + minutes + ":" + seconds;
  }

  let oDiv = document.querySelector('.time')

  oDiv.innerHTML = getTime()

  function updateTime() {
    oDiv.innerHTML = getTime()
  }

</script>

</body>
</html>
